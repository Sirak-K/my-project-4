{% extends 'base.html' %}

{% load static %}

{% block content_user_profile %}


<!-- PROFILE -->

<div class="profile-container">
  <!-- Profile Banner -->

  <section class="profile-images-section">
    <a href="{% url 'user_profile_image' user_id=user.id %}">
      <div class="profile-banner" style="background-image: url('{% if user.profile.banner_image %}{{ user.profile.banner_image.url }}{% else %}/media/img/default_profile_banner.png{% endif %}');">
      </div>
    </a>
  
    <!-- Profile Image -->
    <a href="{% url 'user_profile_image' user_id=user.id %}">
      <img class="profile-image" src="{% if user.profile.profile_image %}{{ user.profile.profile_image.url }}{% else %}/media/img/default_profile_image.png{% endif %}" alt="{{ user.first_name }} {{ user.last_name }}'s profile image">
    </a>
  </section>

  
  

    <!-- PROFILE DETAILS -->

    <h3 class="profile-detail-header">{{ user.first_name }} {{ user.last_name }}</h3>

    <section class="profile-details-section">
    
    <div class="profile-details" data-user-id="{{ user.id }}">
      
      <h3 class="profile-detail-bio"><strong>Bio:</strong> <span data-field-name="bio" contenteditable>{{ user_profile.bio }}</span>
        <span class="edit-pencil-container">
          <a href="#" class="edit-pencil-bio">&#9998;</a>
        </span>
      </h3>
      
   

<!-- Add dropdown menus for gender and profession -->
<h3 class="profile-detail-gender"><strong>Gender:</strong> <span data-field-name="gender">{{ user_profile.get_gender_display }}</span>
  <span class="edit-pencil-container">
    <a href="#" class="edit-pencil" data-field-selector="[data-field-name='gender']">&#9998;</a>
    <div class="dropdown-menu" data-field-name="gender">
      {% for value, display_name in user_profile.GENDER_CHOICES %}
        <a href="#" data-value="{{ value }}">{{ display_name }}</a>
      {% endfor %}
    </div>
  </span>
</h3>

<h3 class="profile-detail-profession"><strong>Profession:</strong> <span data-field-name="profession">{{ user_profile.get_profession_display }}</span>
  <span class="edit-pencil-container">
    <a href="#" class="edit-pencil" data-field-selector="[data-field-name='profession']">&#9998;</a>
    <div class="dropdown-menu" data-field-name="profession">
      {% for value, display_name in user_profile.PROFESSION_CHOICES %}
        <a href="#" data-value="{{ value }}">{{ display_name }}</a>
      {% endfor %}
    </div>
  </span>
</h3>


  
  
    </div>
  </section>
</div>


<div class="profile-section-posts">
{% with user_posts as posts %}
{% include 'post_list.html' %}
{% endwith %}
</div>




{% endblock content_user_profile %}

