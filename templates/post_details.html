<!-- File: post_details.html -->
{% block content_post_details %}

<div class="post">
  <div id="post-edit-section">
    <!-- POST - DELETE BUTTON -->
    <form class="post-delete-form" method="post" action="{% url 'post_delete' pk=post.pk %}">
      {% csrf_token %}
      <button class="post-delete-btn fa fa-trash" type="submit"></button>
    </form>

    <!-- POST - EDIT BUTTON -->
    <form method="post" action="{% url 'post_edit_page' pk=post.pk %}">
    {% csrf_token %}
          {% if not is_post_edit_page %}
          <button class="post-edit-btn fas fa-pencil-alt" type="submit"></button>
          {% else %}
          <button style="display:none" class="post-edit-btn fas fa-pencil-alt" type="submit"></button>
          {% endif %}
    </form>
  </div>

  <div class="post-details">
    <div class="post-details-secondary">
          <p class="post-author">{{ post.get_post_author_name }}</p>
          <img class="post-author-image" src="{{ post.author_profile_image }}" alt="Author Profile Image">
          <p class="post-time">{{ post.post_created_at }}</p>
    </div>

    <section id="post-content-section">
      <h2 class="post-title" name="post_title">{{ post.post_title }}</h2>
      <div class="post-content">{{ post.post_content }}</div>
    </section>

    <section id="post-details-lc-section">
        <span id="post-like-count" class="fas fa-thumbs-up">{{ post.post_likes.count }}</span>
        <form id="post-like-form" method="post" action="{% url 'toggle_like' pk=post.pk %}">
          {% csrf_token %}
          {% if post.post_author != request.user %}
          <button id="post-like-btn" data-post-id="{{ post.pk }}" type="submit">
            {% if post.is_liked_by_user %}
            Unlike
            {% else %}
            Like
            {% endif %}
          </button>
          {% endif %}
        </form>
    </section>
    {% include 'post_comment_create.html' %}
  </div>
</div>

{% endblock content_post_details %}
